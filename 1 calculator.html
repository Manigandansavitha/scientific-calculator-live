<!DOCTYPE html>
<html>
    <head>
        <title>Scientific Calculator</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        
        <style>
            :root{
                --gray-background:.bg-secondary.bg-gradient;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h1 class="text-center mt-3 fx-1" >Scientific Calculator</h1>
            <div class="row">
                <div class="col-12 offset-md-3 col-md-6">
                    <div class="card">
                        <div class="card-body">
                            <input 
                            id="cal-display"
                            readonly
                            class="form-control form-control-lg" 
                            type="text" 
                            aria-label=".form-control-lg example">
                            
                            <div class="row g-1">
                                <div class="col-3">
                                    <button type="button" class="btn btn-light w-100 mt-2 border">(</button>
                                </div>
                                <div class="col-3">
                                    <button type="button" class="btn btn-light w-100 mt-2 border">)</button>
                                </div> 
                                <div class="col-3">
                                    <button type="button" class="btn btn-light w-100 mt-2 border">%</button>
                                </div>
                                <div class="col-3">
                                    <button type="button" class="btn btn-light w-100 mt-2 border">AC</button>
                                </div> 
                                </div>
                                <div class="row g-1">
                                    <div class="col-3">
                                        <button type="button" class="btn btn-light w-100 mt-2 border">7</button>
                                    </div>
                                    <div class="col-3">
                                        <button type="button" class="btn btn-light w-100 mt-2 border">8</button>
                                    </div> 
                                    <div class="col-3">
                                        <button type="button" class="btn btn-light w-100 mt-2 border">9</button>
                                    </div>
                                    <div class="col-3">
                                        <button type="button" class="btn btn-light w-100 mt-2 border">รท</button>
                                    </div> 
                                    </div>
                                    <div class="row g-1">
                                        <div class="col-3">
                                            <button type="button" class="btn btn-light w-100 mt-2 border">4</button>
                                        </div>
                                        <div class="col-3">
                                            <button type="button" class="btn btn-light w-100 mt-2 border">5</button>
                                        </div> 
                                        <div class="col-3">
                                            <button type="button" class="btn btn-light w-100 mt-2 border">6</button>
                                        </div>
                                        <div class="col-3">
                                            <button type="button"  class="btn btn-light w-100 mt-2 border">x</button>
                                        </div> 
                                        </div>
                                        <div class="row g-1">
                                            <div class="col-3">
                                                <button type="button" class="btn btn-light w-100 mt-2 border">1</button>
                                            </div>
                                            <div class="col-3">
                                                <button type="button" class="btn btn-light w-100 mt-2 border">2</button>
                                            </div> 
                                            <div class="col-3">
                                                <button type="button" class="btn btn-light w-100 mt-2 border">3</button>
                                            </div>
                                            <div class="col-3">
                                                <button type="button" class="btn btn-light w-100 mt-2 border">-</button>
                                            </div> 
                                            </div>
                                            <div class="row g-1">
                                                <div class="col-3">
                                                    <button type="button" class="btn btn-light w-100 mt-2 border">0</button>
                                                </div>
                                                <div class="col-3">
                                                    <button type="button" class="btn btn-light w-100 mt-2 border">.</button>
                                                </div> 
                                                <div class="col-3">
                                                    <button type="button" class="btn btn-primary w-100 mt-2 border-primary">=</button>
                                                </div>
                                                <div class="col-3">
                                                    <button type="button" class="btn btn-light w-100 mt-2 border">+</button>
                                                </div> 
                                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
       <script>
        // <!-- <script>
        //     document.addEventListener("DOMContentLoaded",function(){
        //     const display = document.getElementById("cal-display");
        //     const buttons = document.getElementsByClassName('btn');

        //     let currentValue ="";

        //     for(let i=0;i<buttons.length;i++){
        //         const button = buttons[i];
        //         button.addEventListener('click',function(){
        //             const value = button.innerText;
        //             currentValue += value;
        //             console.log("currentValue:",currentValue);
        //         })
        //     }); -->
//          
        

//         document.addEventListener("DOMContentLoaded", function () {
//     const display = document.getElementById("cal-display");
//     const buttons = document.getElementsByClassName('btn');

//     let currentValue = "";

//     for (let i = 0; i < buttons.length; i++) {
//         const button = buttons[i];
//         button.addEventListener('click', function () {
//             const value = button.innerText;
//             currentValue += value;
//             display.value = currentValue;  // Update the display
//         });
//     }
// });  

    document.addEventListener("DOMContentLoaded",function(){
       const display = document.getElementById("cal-display");
       const buttons = document.getElementsByClassName('btn');
       
      let currentValue = "";

       for( let i=0; i<buttons.length; i++){
          const button =buttons[i];
          button.addEventListener('click',function(){
            const value=button.innerText;

            function evaluate(){
                
                const convertedValue = currentValue.replace("x","*")
                .replace("รท","/")
                .replace("%","*0.01");
                const result =eval(convertedValue);
                currentValue = result.toString();
                display.value=currentValue;
            }
            try{

            if (value=="AC"){
                currentValue ="";
                display.value=currentValue;

            }
            else if (value == "="){
                evaluate();
               
            }
           
            else{
                currentValue +=value;
                display.value =currentValue; 
            }
        
        }
        catch(err){
            currentValue = "ERROR";
            display.value=currentValue;
        }
           

          });
       }
    });

    

</script>
</body>
   
</html>